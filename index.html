<!DOCTYPE html>
<html lang = "en">
    <head>
        <title> Home | Name Theory</title>
        <!-- make a favicon for each page -->
        <link rel = "stylesheet" href = "css-js/bootstrap.min.css"/>
        <link rel = "stylesheet" href = "css-js/nameTheory.css"/>
        <script src = "css-js/nameTheory.js"></script>
        
        <!-- controls the ability to change between languages of the "welcome" text -->
        <script type = "text/javascript">
          function start(){ //sends a text file to newLang()
            document.getElementById("welcome").addEventListener("click", function() {
              welcome("css-js/welcome.txt"); //text file of different translations of 'welcome'
            }, false);
          }

          request = new XMLHttpRequest(); //creates an ajax request
          function welcome(url){ //fetches file information from lang.txt
            if(request){
              request.addEventListener("readystatechange", stateChange, false);
              request.open("GET", url, true); //gets the information via request
              request.send(null);
            }
          }
        
          function stateChange(){
            if (request.readyState == 4 & request.status == 200){ //if the request is valid
              responses = request.responseText.split("\n"); //take the \n separated text file and parse it into an array

              for (a in responses){ //iterating through responses
                responses[a] = responses[a].split(", "); //splitting the line information into the translation of the word 'welcome' and its language
              }

              index = Math.floor(Math.random() * responses.length); //choosing a random index from responses
              document.getElementById("welcome").innerHTML = "-" + responses[index][0] + "-"; //displaying one of the translations of 'welcome' from responses[index]
              document.getElementById("translation").innerHTML = responses[index][1]; //displaying the translation language of 'welcome' from responses[index]
            }
          }
        
          //figure out how to rewrite this as a js standalone function
          window.addEventListener("load", start, false); //to understand, read start(), then welcome(), then stateChange()
        </script>
    </head>
    <body>  
        <div class = "container">
            <!-- Header, Navigation -->
            <div class = "row">
                <div class = "pageHeader" id = "top"></div>
                <div class = "navbar" id = "nav"></div>
                <script>
                    setHeader("top"); //sets element with id "top" with the page header html
                    setNavbar("nav");//sets element with id "nav" with the navigation html 
                </script>
            </div>

            <!-- "Body" -->
            <div class = "row">
              <!-- WELCOME -->
              <div class = "col-sm-4">
                <h3 id = "welcome" class = "clickHover">-WELCOME-</h3>
                <h5 id = "translation" class = "translation">English</h5>
                <p>to Name Theory, the place where you can find out what your name says about you.</p>
                <p>Or, if you'd rather, this is the place where you can find out what other people's name say about them.</p>
              </div>

              <!-- WHERE -->
              <div class = "col-sm-4">
                <h3>-WHERE-</h3>        
                <p>you want to go depends on what you want to find.</p>
                <p>Looking for an assessment for a specific name? <a href = "pages/search.html">Here</a>'s the end of your rainbow.</p>
                <p>If you'd like to read all of the assessments available, from general letters to specific names, <a href = "pages/display.html">look no further</a>.</p>
              </div>
            
              <!-- WHAT -->
              <div class = "col-sm-4">
                <h3>-WHAT-</h3>        
                <p>is this really? For fun, of course.</p>
                <p>Of course not everyone with the same name shares the same traits. I've just happened to notice that many of the people I've met who share names share a similar pool of traits. Consider this a fun meter of potential or comparison: "When I meet a __, will their way of showing kindness be bluntness?" "Does my __ also act as my annoying little brother?"</p>
                <p>This is all for fun. Enjoy :)</p>
              </div>
            </div>

            <!-- Footer -->
              <div class = "row pageFooter" id = "footer">
                <script>
                  setFooter("footer");
                </script>
              </div>
          </div>
    </body>
</html>